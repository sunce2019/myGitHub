package com.pay.interceptor;

import java.util.HashMap;
import java.util.List;
import java.util.Map;

import javax.servlet.ServletContext;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.context.annotation.Configuration;
import org.springframework.web.servlet.HandlerInterceptor;
import org.springframework.web.servlet.ModelAndView;

import com.pay.dao.MemberDao;
import com.pay.model.Groups;
import com.pay.model.Ip;
import com.pay.model.Menu;
import com.pay.model.Users;
import com.pay.service.IpService;
import com.pay.util.StringUtils;

import net.sf.json.JSONObject;

@Configuration
public class RequestInterceptor implements HandlerInterceptor {
	@Autowired
	private IpService ipService;
	@Autowired
	private MemberDao memberDao;
	@Autowired
	private ServletContext servletContext;

	private static org.apache.log4j.Logger logger = org.apache.log4j.Logger.getLogger("busi1");

	public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception exc)
			throws Exception {
	}

	public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler,
			ModelAndView modelAndView) throws Exception {
	}

	public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)
			throws Exception {

		String url = request.getRequestURI();
		// 无需登录操作api==============
		String[] allow = StringUtils.ALLOw;
		for (String str : allow)
			if (url.contains(str))
				return true;
		// ==========================
		if (!flagIp(request))
			return false; // 白名单IP检查、
		if (url.equals("/")) {
			response.sendRedirect("/index.do");
			return false;
		}
		if (checkPermissions(request))
			return true; // 检查权限。

		response.sendRedirect("/hilogin.jsp");
		return false;
	}

	private boolean checkPermissions(HttpServletRequest request) throws Exception {
		HttpSession session = request.getSession();
		String usersJSON = (String) session.getAttribute("user");
		if (usersJSON != null) {
			Map<String, Class<?>> classMap = new HashMap<String, Class<?>>();
			classMap.put("groupsList", Groups.class);
			classMap.put("menuList", Menu.class);
			JSONObject jsonobject = JSONObject.fromObject(usersJSON);
			Users users = (Users) JSONObject.toBean(jsonobject, Users.class, classMap);
			// 判断重复登录，重复登录就去登录页面。
			if (memberDao.get("sessionid" + users.getLoginname()) == null
					|| memberDao.get("sessionid" + users.getLoginname()).getValues().equals(session.getId())) {
				if (accessPrivileges(request.getRequestURI(), users)) { // 权限判断
					return true;
				}
			}
		}
		return false;
	}

	public static void main(String[] args) {
		String s = "{\"password\":\"1\",\"flag\":1,\"loginname\":\"1\",\"name\":\"admin\",\"groupsList\":[{\"menuList\":[{\"menuList\":[{\"menuList\":[],\"name\":\"新增账户\",\"id\":153,\"parentid\":152,\"url\":\"../user/saveOrUpdateUser.do\",\"customer\":null}],\"name\":\"新增页面\",\"id\":152,\"parentid\":150,\"url\":\"../user/userDetail.do\",\"customer\":null},{\"menuList\":[],\"name\":\"订单上分\",\"id\":121,\"parentid\":119,\"url\":\"../upperScore.do\",\"customer\":null},{\"menuList\":[],\"name\":\"新增对接\",\"id\":141,\"parentid\":140,\"url\":\"../saveOrUpdateAuao.do\",\"customer\":null},{\"menuList\":[],\"name\":\"新增角色\",\"id\":189,\"parentid\":188,\"url\":\"../system/addGroupsOrUpdate.do\",\"customer\":null},{\"menuList\":[],\"name\":\"订单查询\",\"id\":125,\"parentid\":124,\"url\":\"../payorderList.do\",\"customer\":null},{\"menuList\":[],\"name\":\"订单上分\",\"id\":110,\"parentid\":2,\"url\":\"../upperScore.do\",\"customer\":null},{\"menuList\":[],\"name\":\"编辑角色\",\"id\":191,\"parentid\":190,\"url\":\"../system/addGroupsOrUpdate.action\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"编辑对接\",\"id\":149,\"parentid\":148,\"url\":\"../saveOrUpdateCustomer.action\",\"customer\":null}],\"name\":\"编辑页面\",\"id\":148,\"parentid\":144,\"url\":\"../customerDetail.action\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"新增商户\",\"id\":132,\"parentid\":131,\"url\":\"../saveOrUpdateBusiness.do\",\"customer\":null}],\"name\":\"新增页面\",\"id\":131,\"parentid\":129,\"url\":\"../businessDetail.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"新增对接\",\"id\":147,\"parentid\":146,\"url\":\"../saveOrUpdateCustomer.do\",\"customer\":null}],\"name\":\"新增页面\",\"id\":146,\"parentid\":144,\"url\":\"../customerDetail.do\",\"customer\":null},{\"menuList\":[],\"name\":\"订单上分\",\"id\":126,\"parentid\":124,\"url\":\"../upperScore.do\",\"customer\":null},{\"menuList\":[],\"name\":\"查询对接\",\"id\":139,\"parentid\":138,\"url\":\"../autoList.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"查询ip\",\"id\":157,\"parentid\":156,\"url\":\"../ipList.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"新增ip\",\"id\":159,\"parentid\":158,\"url\":\"../addIp.do\",\"customer\":null}],\"name\":\"新增页面\",\"id\":158,\"parentid\":156,\"url\":\"../ipDetail.do\",\"customer\":null},{\"menuList\":[],\"name\":\"删除ip\",\"id\":160,\"parentid\":156,\"url\":\"../deleteIp.do\",\"customer\":null}],\"name\":\"ip白名单\",\"id\":156,\"parentid\":0,\"url\":\"../ip.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[{\"menuList\":[],\"name\":\"查询角色\",\"id\":187,\"parentid\":185,\"url\":\"../system/groupsList.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"新增角色\",\"id\":189,\"parentid\":188,\"url\":\"../system/addGroupsOrUpdate.do\",\"customer\":null}],\"name\":\"新增页面\",\"id\":188,\"parentid\":185,\"url\":\"../system/groupsDetail.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"编辑角色\",\"id\":191,\"parentid\":190,\"url\":\"../system/addGroupsOrUpdate.action\",\"customer\":null}],\"name\":\"编辑页面\",\"id\":190,\"parentid\":185,\"url\":\"../system/groupsDetail.action\",\"customer\":null},{\"menuList\":[],\"name\":\"删除角色\",\"id\":192,\"parentid\":185,\"url\":\"../system/deleteGroups.do\",\"customer\":null}],\"name\":\"角色管理\",\"id\":185,\"parentid\":184,\"url\":\"../system/groups.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"权限查询\",\"id\":194,\"parentid\":193,\"url\":\"../system/menuList.do\",\"customer\":null},{\"menuList\":[],\"name\":\"权限修改\",\"id\":195,\"parentid\":193,\"url\":\"../system/addSystemPermiOrUpdate.do\",\"customer\":null}],\"name\":\"权限管理\",\"id\":193,\"parentid\":184,\"url\":\"../system/systemPermiDetail.do\",\"customer\":null}],\"name\":\"系统设置\",\"id\":184,\"parentid\":0,\"url\":\"#\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"编辑对接\",\"id\":143,\"parentid\":142,\"url\":\"../saveOrUpdateAuao.action\",\"customer\":null}],\"name\":\"编辑页面\",\"id\":142,\"parentid\":138,\"url\":\"../autoDetail.action\",\"customer\":null},{\"menuList\":[],\"name\":\"编辑账户\",\"id\":155,\"parentid\":154,\"url\":\"../user/saveOrUpdateUser.action\",\"customer\":null},{\"menuList\":[],\"name\":\"查询云闪付\",\"id\":169,\"parentid\":168,\"url\":\"../cloudFlasHover/customerList.do\",\"customer\":null},{\"menuList\":[],\"name\":\"删除微信买单\",\"id\":181,\"parentid\":175,\"url\":\"../wechat/deleteBank.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"修改用户密码\",\"id\":183,\"parentid\":182,\"url\":\"../user/updatepassword.do\",\"customer\":null}],\"name\":\"修改密码\",\"id\":182,\"parentid\":0,\"url\":\"../user/updateDetail.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"订单查询\",\"id\":120,\"parentid\":119,\"url\":\"../payorderList.do\",\"customer\":null},{\"menuList\":[],\"name\":\"订单上分\",\"id\":121,\"parentid\":119,\"url\":\"../upperScore.do\",\"customer\":null},{\"menuList\":[],\"name\":\"回调游戏\",\"id\":122,\"parentid\":119,\"url\":\"../manualCallBackGame.do\",\"customer\":null},{\"menuList\":[],\"name\":\"查看API\",\"id\":123,\"parentid\":119,\"url\":\"../showApiError.do.do\",\"customer\":null}],\"name\":\"\",\"id\":119,\"parentid\":1,\"url\":\"\",\"customer\":{\"flag\":3,\"addTime\":{\"date\":21,\"hours\":14,\"seconds\":26,\"month\":5,\"nanos\":0,\"timezoneOffset\":-480,\"year\":119,\"minutes\":34,\"time\":1561098866000,\"day\":5},\"ip\":\"123\",\"private_key_2\":\"MIICdwIBADANBgkqhkiG9w0BAQEFAASCAmEwggJdAgEAAoGBAKmkJLdWB231OgWpQwhe8TM+RIV1VRWM6QDBiDL0ZXQXbLMZciIU5gSK4DG1dsKRwlFr2yk1FSU0WYKw324dgbZ6MIsxeDRnxsdijmcnlque8HfC3VOJpidMRHADU4wYM9iV/qusenM+XkhUthlP2RZsFPuBr0rWyaStOVgdfw2dAgMBAAECgYByTqhu4Qkgjp0KM4N3oIHmhY6mXul2G/zlBYNA0m2KTD5ycDL3xB058lofJKdhc9X8BzEmEx6scxnddlEXYcqEjyigKS2t8LO/Z/AbGkm0kWpqEe72lvV7LLruFk16StmNAt73DKjILBYuHbUUO0/3ShYSnz99LQIzvFQW7BKAAQJBAPAPWjkFxzwYlokefvPfzNUYHqMjv1NmuQdAb6RD/kn/ALoWiUBiXdL9rcTAl9f6jYJ3K4gQBxvL9wTznRlAWF0CQQC058fexElgiktm46Vb8QiOTZ1paWPyGL135ugnzii/ny+f6yNISsq5fEcnf/nEdZ2J0TeMz1TpABXrwGy7STZBAkEAzGLl2CLZTItKr5ftUsm65btRaminHuUYp9nus5bITEv2XHmPhee6JkehySCIp3RFQ00fHQs4Yiw4NlkL6lHkaQJAN8aWmxpNvVQmN0zMuPIxvx4zAEMcK5JxKDyrK0qmyZ3c4yNuN2XH5zRoA8ezTF0u+0TkKafq+AOsvokPfRbvgQJBALdiJ8hz4xNV4/rcc2A8Wyekq8i0D20MyPB2IwxP3JVdL6eNdJVIQMuJ7SNTSytmqdmDXEZPKkB1laEzatHWBdw=\",\"private_key1\":\"MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAIVHhfcl2WcG86Vw+mDt5f9Jkgg97VOon14ZyvWWjCsQJjHknj7bI9T/IeJiGU95W6X4pYOGjmCEc1jFTfj3W22A8S5cc+aa47+dkoIgu1ZtZ6YbkuzPu/KvtAnQuWNOk62TQjYVOfxanjpxwE7WAm+f9zNVSuAamYx9VlSlxAy5AgMBAAECgYAkM3Yu2EgB1QCO+m33sAad3dTdijyRUabf/2+CX375H2zQdoGJHyrPavFANVccoCEFptEGNaEslC1keksgicd6RPxnCfituGiQHPLFmFfWvMaOMQVh8SA8rjJPr7uN/F6zkJ6q+Tohd1EyBvKFi9bukn/wwQLhd54OhQydCWA9lQJBAM0IZJ2hnieMM4WEHut1dG6Nd98EW4IUVfZSTUPNdSA5hnVt8nuwp8WWaJKD0It1uSClvrRbR4CzgVoSUXUFjM8CQQCmaPta7v4KeFfh/7X8FkeiEyjSKAtgztUiqrGxKKbk+9PNMLoLgY34nGbNRCpxi21Ry1UteXKR8DHWCWEHKf/3AkEAk+5rUgRK7PPONJYoDPDYye8OPv2Q3KC5iRjGoJX73P1EUzO50Z6a3gfweU3byNNud+y+VLjLNUPOn2M6HHmdpwJAGZhMENBxgmrAGaKa+wryOZt4y9oc5ebqIUrfyb/W66FQEl9MPjjO/U4RAcFaRdyME+iSUUw8svWetKz8n312QQJAAR9o3BwPNMn1GbMyhGDTAnV6I3n28B/o7+EKv4zVaIMU3qqFU3fRMryJE5oWzruNEcRbw8/7vpoicYeRti0qyg==\",\"symmetric\":\"A44CF566F829446BBFCA06EB04124B1C\",\"uid\":\"B9D95BB98BEB4A378DA70FF5435E20A6\",\"public_key_2\":\"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCppCS3Vgdt9ToFqUMIXvEzPkSFdVUVjOkAwYgy9GV0F2yzGXIiFOYEiuAxtXbCkcJRa9spNRUlNFmCsN9uHYG2ejCLMXg0Z8bHYo5nJ5arnvB3wt1TiaYnTERwA1OMGDPYlf6rrHpzPl5IVLYZT9kWbBT7ga9K1smkrTlYHX8NnQIDAQAB\",\"public_key1\":\"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCFR4X3JdlnBvOlcPpg7eX/SZIIPe1TqJ9eGcr1lowrECYx5J4+2yPU/yHiYhlPeVul+KWDho5ghHNYxU3491ttgPEuXHPmmuO/nZKCILtWbWemG5Lsz7vyr7QJ0LljTpOtk0I2FTn8Wp46ccBO1gJvn/czVUrgGpmMfVZUpcQMuQIDAQAB\",\"name\":\"1232\",\"id\":20,\"key\":\"D0BD6710BFE3439EA081F39ABF047302\",\"callbackType\":1}},{\"menuList\":[{\"menuList\":[],\"name\":\"查询接入\",\"id\":145,\"parentid\":144,\"url\":\"../customerList.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"新增对接\",\"id\":147,\"parentid\":146,\"url\":\"../saveOrUpdateCustomer.do\",\"customer\":null}],\"name\":\"新增页面\",\"id\":146,\"parentid\":144,\"url\":\"../customerDetail.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"编辑对接\",\"id\":149,\"parentid\":148,\"url\":\"../saveOrUpdateCustomer.action\",\"customer\":null}],\"name\":\"编辑页面\",\"id\":148,\"parentid\":144,\"url\":\"../customerDetail.action\",\"customer\":null}],\"name\":\"接入管理\",\"id\":144,\"parentid\":0,\"url\":\"../customer.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"编辑云闪付\",\"id\":173,\"parentid\":172,\"url\":\"../cloudFlasHover/saveOrUpdateCustomer.action\",\"customer\":null}],\"name\":\"编辑页面\",\"id\":172,\"parentid\":168,\"url\":\"../cloudFlasHover/customerDetail.action\",\"customer\":null},{\"menuList\":[{\"menuList\":[{\"menuList\":[],\"name\":\"订单查询\",\"id\":107,\"parentid\":2,\"url\":\"../payorderList.do\",\"customer\":null},{\"menuList\":[],\"name\":\"订单上分\",\"id\":110,\"parentid\":2,\"url\":\"../upperScore.do\",\"customer\":null},{\"menuList\":[],\"name\":\"回调游戏\",\"id\":113,\"parentid\":2,\"url\":\"../manualCallBackGame.do\",\"customer\":null},{\"menuList\":[],\"name\":\"查看API\",\"id\":116,\"parentid\":2,\"url\":\"../showApiError.do.do\",\"customer\":null}],\"name\":\"\",\"id\":2,\"parentid\":1,\"url\":\"\",\"customer\":{\"flag\":1,\"addTime\":{\"date\":30,\"hours\":11,\"seconds\":24,\"month\":2,\"nanos\":0,\"timezoneOffset\":-480,\"year\":119,\"minutes\":59,\"time\":1553918364000,\"day\":6},\"ip\":\"47.244.97.138\",\"private_key_2\":\"MIICdQIBADANBgkqhkiG9w0BAQEFAASCAl8wggJbAgEAAoGBAJu3MiGNkZIggZtKNU33jWrcAVd76fimGC2tIg4PYbYvoSaUbiyX0EbiHoJeqPVHIaxRDxtulB2yRq0qfs39YqP9+n3barbiqvkJvrUoBKi4WiaqWpwcjC8+FxH00Hgy8qner26h4Mwv4giuf9fP1mcj+rCQqmUvyQzQR6zTZXAjAgMBAAECgYB9gKCqBGUghoyPcbcWuQBE8T8vmJLSMmRoZBN/i4wwf6D97EIENPPMPbFjWBILZqJQNSDc9jnw2WA3b3m2YpQd2Erd6toY7tHACX1b3Kl/hEJTYmoMNmva8r20OHqGI80FVDirpW1fE3Qbp+whi5/+057njCEKV3ebZ+2pRcrWmQJBAPtdXG7ewj1DtoOkGL+OfbfSKOdGtoUbhWOScuqw9rQ02m3DZmEjQ0L8G2eis5AEaAo0z0cuybJqEfkNTl5ue9UCQQCelkvAF3IJYTKQHq9qiL+yFKyLb+kZI3OBmZZvnvPn+9EI0WVtb2ujc9ka9H6xLH560R+LtooLZRAZmK/VTxAXAkB4BuaiUmAx3OmEBpGCtsm1QvchKJTzDmctWrrg8kt7VVmP3CRA8hOmIrf7Tqerd08uwHTRqrfJJ/kZEY+AbAVZAkBsqVzEBQyNIr1LhMr6+zImKgZEEG0uXV0imwM5/jbvaFrFaPzPbD3bpGBJGOfKLEuJicrMp0mVHy1V7InmZaMHAkBKJszaEvctrBX9GHXyWMsCHXRPtB+5b5aXqChaW8QNrYfXSQ6yQQ0xbngLBee1iCf6/IKD0GT8xn5N/7ReKVC6\",\"private_key1\":\"MIICdQIBADANBgkqhkiG9w0BAQEFAASCAl8wggJbAgEAAoGBAK2y64pq6RZkYnyp/G1wN8tc74Mhz8LzF+qS5SqQRocwd9YBh/7Gaechv7S/SPfuOkvzOoslED59Y3nu+JMK/2+gCBU+cteMH1x6i0jVrMLsd8/HPoAmW3M1zuV4/h794Wzh8FzU5SqFRmfg5dldZCIuuM7X+u5lnt/6i/LhHHmrAgMBAAECgYBE0fT83KsJUjCrT/ZRrfqNOn8zJ3xXs1UwfY8KtCsdeRih0+18BkUDbJ22EWvpv5udZ/s0EjVDbQ6yyvn12I+nk6Y8rx7eozRVUkcHBuEt5HTKfUDtopZEn7lkD5lQ/LF2yHghdGHuTNZEz0h3sPlgdKESR7O7Q/RLaoEgl6vYQQJBAPMoZLQwACNUIc1F3Zy0aAftfBfux9H5co2ankBEd5ysuU5Be81uwh1vwuaVpIVjqbwvywIj8cgajfqztQ+qTDECQQC232kHZYIbr8G4VF88H3zj7B6LSs0tKhwLqYEftYbnZxsoHKaAM9Uz1hN7fmBoEkgUMFVw3QLPVED5jJydZ9ibAkAEctW80i/+dXiU19VhG4/XrUma6nxvY//rhUul41rI3AQb4WjRblhQz42iSFSVOCiPz9QH+v5eadX1IzqJydTRAkBX8bbTvMhGQk66M7Ec+9OW1K2XtSBY0QBtx1V2h1jaHeaccrLLwqGMbS4vXIZGZkxNkTT1swOv60fX+vwyYodzAkA2cWYYIwuf+GPq6rrscfrNkmxE4uNkhlREOt4IXy9zP5XR2ornowvFszpNrDzM85SC6Zl04izQLNi+anxt58Uf\",\"symmetric\":\"123456789\",\"uid\":\"194592037350313555\",\"public_key_2\":\"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCbtzIhjZGSIIGbSjVN941q3AFXe+n4phgtrSIOD2G2L6EmlG4sl9BG4h6CXqj1RyGsUQ8bbpQdskatKn7N/WKj/fp922q24qr5Cb61KASouFomqlqcHIwvPhcR9NB4MvKp3q9uoeDML+IIrn/Xz9ZnI/qwkKplL8kM0Ees02VwIwIDAQAB\",\"public_key1\":\"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCtsuuKaukWZGJ8qfxtcDfLXO+DIc/C8xfqkuUqkEaHMHfWAYf+xmnnIb+0v0j37jpL8zqLJRA+fWN57viTCv9voAgVPnLXjB9ceotI1azC7HfPxz6AJltzNc7leP4e/eFs4fBc1OUqhUZn4OXZXWQiLrjO1/ruZZ7f+ovy4Rx5qwIDAQAB\",\"name\":\"棋牌app1\",\"id\":1,\"key\":\"xhf0Bhv5smvv29fxvxpjV0Td4tQwwa0f\",\"callbackType\":2}},{\"menuList\":[{\"menuList\":[],\"name\":\"订单查询\",\"id\":108,\"parentid\":3,\"url\":\"../payorderList.do\",\"customer\":null},{\"menuList\":[],\"name\":\"订单上分\",\"id\":111,\"parentid\":3,\"url\":\"../upperScore.do\",\"customer\":null},{\"menuList\":[],\"name\":\"回调游戏\",\"id\":114,\"parentid\":3,\"url\":\"../manualCallBackGame.do\",\"customer\":null},{\"menuList\":[],\"name\":\"查看API\",\"id\":117,\"parentid\":3,\"url\":\"../showApiError.do.do\",\"customer\":null}],\"name\":\"\",\"id\":3,\"parentid\":1,\"url\":\"\",\"customer\":{\"flag\":1,\"addTime\":{\"date\":10,\"hours\":18,\"seconds\":10,\"month\":4,\"nanos\":0,\"timezoneOffset\":-480,\"year\":119,\"minutes\":54,\"time\":1557485650000,\"day\":5},\"ip\":\"123123\",\"private_key_2\":\"MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJ6nCeQOKC/1Rg3BFS755TPESOi0WvwzZYxE6o6sv+qg9OU9fi15GlNy3CU3+LX7BqTEKwYl/SkyGOgVZAJBFcRE1Vln7T9tVz08gPIDhwGZCpxJ9ocsx5rphJe42/p9XJ9Ivqva9VJgTdf0FEhhKwHc75b2OfCqSvb6G+cjt1sDAgMBAAECgYAu9Nd7lSkV0K10QrKHXdUVtkGyBjdrr7adhoQ5yC1hP1RcSRAAW3iMPFGl/mPxUKPNvnXRcwrz120Bu9sGw8ayAjTB90Yf7/w1d8zQKuumMWi9hcjdV/qdVDnrTveNzWHtVsjB8wNKWFoBjIHq6t9oV5zpZxCvbHAZiHmdXZTQeQJBAMr5wHTei8YJvzGIFUzpiOqsMOHBxj4ANCbY++VH9IU6agQfvIAlO2aC2IlTAtSiZW5sEITk7UG/gnyL9W3hIUUCQQDIGR+2hHNnlMty0qQ0EFF0xiSUgaE7v+1k/P5CD07gGpH1+SIQbR0k1wW4BcomtRkw+1KMfgNGV4+rrIGvDPunAkBapwzzpWlbu4Kuxo5s2WiTFvCGA5tcmY6xQvvNvUNSNXKgAOSZfwd2kz3Op0p+WUFf/deq4uusD7Jhmci1mHTZAkBwHrPIX3sSxSsikaj0i1g5KHWCyQgBJM/uUFxfw5gctoam3wwZTCqSY/GOZaAaBEuzSH++vTU0iwez2BtqbMntAkEAvu5lX0blSIi/D6YZ20VaPHJ5zGEUNkog3/1arhWgVMV/hMH6fUxDmxOxqJ/3dbQGGvuv3xU4RJigLY7Ka3TQ+g==\",\"private_key1\":\"MIICdwIBADANBgkqhkiG9w0BAQEFAASCAmEwggJdAgEAAoGBAJwD4yV5Km76uOrBustTX//anxLJEQr+bM0QnLYpN5+8EBb4nymHi5EBgsyJuNBUvDzVT+C3itl0JGULED1D9nlUP7W/Hcw6xn3vzSRpPkdLNhUDhZtF3yR/jRDjJ9EcWlnKGtBJXIC87eOMsg2yf5xIegVIN6gQObjCD2lX8xetAgMBAAECgYAL4j/rGs+gpHhxaVBRLIijdIOpaqdhrv+anylQttMF181h8o4tG6YF5ZeQ/OyW8d1kxNrQwypQZghfqfgSspqThGU+5Lc3TxUlIsAcsLYoIrqePFGruCGFcbpKF+Kq/rTyVCz/OS4WpQyKx/0o5U38K1blao/zGTPkon/O/o3AAQJBAO990H6oI9Fu4iHZ1AEVFlu3lJch85G4pnoVywAhe1ifWz/M+SxaZ1tjtwa41DDYHpKAvR28ILR6W7cL6uNHJU0CQQCmxQJHh+m6wT0KZjbtwixglW0yIz4s6EH1Eb5kAue+z3Q57ap9JWPjBHBkvuxAexuXdSP9FEObY5Owh4UalQvhAkEAl8FptFhnGfbhZAHbzTPHjyatCXeCF/yhwQq+L78HogiYkb0Yx3ohtE9jUucbzjekZ8EcFRN4xeQi6cKrfIlAoQJBAIQi/x5cMzZ1G/9cY9NZEb5pRz79q6r7UB90sq0dnC+UwluP05EbChz7DG7W0+x3XrJP73b8EmFRsdiiWDVquSECQBLkkYsc0ZwIK6wsLTkk5to3bFDxI5bL7BXEyNf+YyoKcj+rJB/zOAsRlxEnt9YSgT9jSBO7EpxYqMc/tzr7zKU=\",\"symmetric\":\"1E0E4EDC808443FD8965CDE627AAC7C9\",\"uid\":\"106962D5BE1B4AA48C32A99B57D3722B\",\"public_key_2\":\"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCepwnkDigv9UYNwRUu+eUzxEjotFr8M2WMROqOrL/qoPTlPX4teRpTctwlN/i1+wakxCsGJf0pMhjoFWQCQRXERNVZZ+0/bVc9PIDyA4cBmQqcSfaHLMea6YSXuNv6fVyfSL6r2vVSYE3X9BRIYSsB3O+W9jnwqkr2+hvnI7dbAwIDAQAB\",\"public_key1\":\"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCcA+MleSpu+rjqwbrLU1//2p8SyREK/mzNEJy2KTefvBAW+J8ph4uRAYLMibjQVLw81U/gt4rZdCRlCxA9Q/Z5VD+1vx3MOsZ9780kaT5HSzYVA4WbRd8kf40Q4yfRHFpZyhrQSVyAvO3jjLINsn+cSHoFSDeoEDm4wg9pV/MXrQIDAQAB\",\"name\":\"12123\",\"id\":13,\"key\":\"96FA25D845A9419B87B609FA7304A3BB\",\"callbackType\":1}},{\"menuList\":[{\"menuList\":[],\"name\":\"订单查询\",\"id\":109,\"parentid\":4,\"url\":\"../payorderList.do\",\"customer\":null},{\"menuList\":[],\"name\":\"订单上分\",\"id\":112,\"parentid\":4,\"url\":\"../upperScore.do\",\"customer\":null},{\"menuList\":[],\"name\":\"回调游戏\",\"id\":115,\"parentid\":4,\"url\":\"../manualCallBackGame.do\",\"customer\":null},{\"menuList\":[],\"name\":\"查看API\",\"id\":118,\"parentid\":4,\"url\":\"../showApiError.do.do\",\"customer\":null}],\"name\":\"\",\"id\":4,\"parentid\":1,\"url\":\"\",\"customer\":{\"flag\":3,\"addTime\":{\"date\":20,\"hours\":10,\"seconds\":21,\"month\":4,\"nanos\":0,\"timezoneOffset\":-480,\"year\":119,\"minutes\":22,\"time\":1558318941000,\"day\":1},\"ip\":\"123\",\"private_key_2\":\"MIICdQIBADANBgkqhkiG9w0BAQEFAASCAl8wggJbAgEAAoGBAIQOTKgjKKcfVcpt1mrNUTnD35c9bnENbm9F1ZYHmB2QnbCIrvWKqy0Xf+NYymD8tDT0jsIeOpStSUnszPddMfLwYPc8Fz7+02yNoc4oLTIc189RToYZiR2DK5TTfxcSAc6Na1uM/AnlBylK/tzqKkH80Xl+sqPaSo2qcIsmVq2VAgMBAAECgYABiZUU5AvmHjRGfg7gAXHvpTsmLJ3rjQd7HioFbCM2POfJFV5MF4g0pzBi+jao+Gg0saAz3Fw8POQ8ixg7zQb209MMPlxlEfLQNOuxWBNcZ5oPHsHKaI9OOceHdmIz/0/7JCyBM2fYngse/B4wSAsKYY/j/PGlbCyyfS6owxSiBQJBAL3U8yigboP9q2TpM+KJIIEVZAe8tzHZGUgwMLV/udtuymys96fHlk11N7OH7THoWfonzVQ5zrcJmttAdu4ej5MCQQCyFeQQkNcTMvnzaFM4UbSuunXACYhUJ95J07gGn50fxC9bk/1BysF4HoQh+aeBdcTqFC684WQg3WmffpvbJfc3AkAlVuzZce0rI0uCVuiwx55QJb/+UZ2LPZPegjQij1QkmH9SrxcrtnOXGtZxBuyeI4EHVqrpxVEm6cm/FMgQAIznAkBwbItuvdFZKHxM4pZu3n3fNI0zb5El94lIOCVb4RXTQQnYmWNvTm22xCUMQcwyWUO3togO64dHjB+q9cW0opIfAkAKolMUXUikiyCxx3JdzKOlu/bMKPGAMjBCoAFA+TI9q+3UfmMCJMSdpLX7d5/aC0bS88P9spLdHG9mH64qJOlV\",\"private_key1\":\"MIICdwIBADANBgkqhkiG9w0BAQEFAASCAmEwggJdAgEAAoGBAIM5E6aKzLdc19+newyQS4pIqxUNzLc9ImNLr+9sVCtRR0D/DqQ+ovTSwxSiR4/hRJX/3H2g/0hdOQYnrBoXQ1XWYFPP+npgNKNZDOjYnyVPmvYNvymn56phgynZc94cSewNgwr3vv2zCE6h3YGyKfTBthSFSCiKRrEBx1t+PYGPAgMBAAECgYBIQQdW7ppmZJLhLaENe+58SCMbxqtwQhNLRYOse6Ok7m4jlc2EFpE36U1NcUWiLdHMHkRUUHAAcoRRpUqYWzLRqGTKXYy8kAVgH7I0jfO/vPFUAb4tOdRmVHTHhOW7+lKkD1T+5S1ViLq/mzsyHKIq1E1P+inYBZ6ppTxAf7IrcQJBAMbJdFtMDYKXkjzhAuUVqEhKJq/EUaZCfXEJSXg+F8ZU+lVhoguO6QWiK0zxg/YBzJ731Ze5/JR+PvtD060rVXMCQQCo/YjDP50WIEeLBcW+IUqgcVZOAKPSW7FshEp32II3moTwAsaQeQvaDDIhWxOD6Y/K1M2jS3/cBrzFMQNa1bx1AkEAv+Lq/M4XJH5nXXjesIANZ2qcmYJqRpFcQWbzkqxtirewxgZuw7V53kRChA2Gkkv+V11owwN3e2e6KBW7GSgBXQJABWOgeumKbuw0m+BhQAD7ykYTBIXMs6as79MANPY4oOFSn/zWrEDP+fItnxaydqB6L3O94xlDSJcGaht4CeuLCQJBAK0ULLFkyJDzXaoIv8AqYPig6wZhUZyLDT4ujZMXKxjzxvLrETpQ4TjpSfouwmfUZhlX+QF8VQbDOw1hoWNa+bw=\",\"symmetric\":\"FDAD5C670E6A44D0947A894C443D7B45\",\"uid\":\"C74BF33A809B432697840D18313B7813\",\"public_key_2\":\"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCEDkyoIyinH1XKbdZqzVE5w9+XPW5xDW5vRdWWB5gdkJ2wiK71iqstF3/jWMpg/LQ09I7CHjqUrUlJ7Mz3XTHy8GD3PBc+/tNsjaHOKC0yHNfPUU6GGYkdgyuU038XEgHOjWtbjPwJ5QcpSv7c6ipB/NF5frKj2kqNqnCLJlatlQIDAQAB\",\"public_key1\":\"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCDOROmisy3XNffp3sMkEuKSKsVDcy3PSJjS6/vbFQrUUdA/w6kPqL00sMUokeP4USV/9x9oP9IXTkGJ6waF0NV1mBTz/p6YDSjWQzo2J8lT5r2Db8pp+eqYYMp2XPeHEnsDYMK9779swhOod2Bsin0wbYUhUgoikaxAcdbfj2BjwIDAQAB\",\"name\":\"123\",\"id\":15,\"key\":\"9169C65055FB4637B8E3E3A90EFD16C1\",\"callbackType\":1}},{\"menuList\":[{\"menuList\":[],\"name\":\"订单查询\",\"id\":120,\"parentid\":119,\"url\":\"../payorderList.do\",\"customer\":null},{\"menuList\":[],\"name\":\"订单上分\",\"id\":121,\"parentid\":119,\"url\":\"../upperScore.do\",\"customer\":null},{\"menuList\":[],\"name\":\"回调游戏\",\"id\":122,\"parentid\":119,\"url\":\"../manualCallBackGame.do\",\"customer\":null},{\"menuList\":[],\"name\":\"查看API\",\"id\":123,\"parentid\":119,\"url\":\"../showApiError.do.do\",\"customer\":null}],\"name\":\"\",\"id\":119,\"parentid\":1,\"url\":\"\",\"customer\":{\"flag\":3,\"addTime\":{\"date\":21,\"hours\":14,\"seconds\":26,\"month\":5,\"nanos\":0,\"timezoneOffset\":-480,\"year\":119,\"minutes\":34,\"time\":1561098866000,\"day\":5},\"ip\":\"123\",\"private_key_2\":\"MIICdwIBADANBgkqhkiG9w0BAQEFAASCAmEwggJdAgEAAoGBAKmkJLdWB231OgWpQwhe8TM+RIV1VRWM6QDBiDL0ZXQXbLMZciIU5gSK4DG1dsKRwlFr2yk1FSU0WYKw324dgbZ6MIsxeDRnxsdijmcnlque8HfC3VOJpidMRHADU4wYM9iV/qusenM+XkhUthlP2RZsFPuBr0rWyaStOVgdfw2dAgMBAAECgYByTqhu4Qkgjp0KM4N3oIHmhY6mXul2G/zlBYNA0m2KTD5ycDL3xB058lofJKdhc9X8BzEmEx6scxnddlEXYcqEjyigKS2t8LO/Z/AbGkm0kWpqEe72lvV7LLruFk16StmNAt73DKjILBYuHbUUO0/3ShYSnz99LQIzvFQW7BKAAQJBAPAPWjkFxzwYlokefvPfzNUYHqMjv1NmuQdAb6RD/kn/ALoWiUBiXdL9rcTAl9f6jYJ3K4gQBxvL9wTznRlAWF0CQQC058fexElgiktm46Vb8QiOTZ1paWPyGL135ugnzii/ny+f6yNISsq5fEcnf/nEdZ2J0TeMz1TpABXrwGy7STZBAkEAzGLl2CLZTItKr5ftUsm65btRaminHuUYp9nus5bITEv2XHmPhee6JkehySCIp3RFQ00fHQs4Yiw4NlkL6lHkaQJAN8aWmxpNvVQmN0zMuPIxvx4zAEMcK5JxKDyrK0qmyZ3c4yNuN2XH5zRoA8ezTF0u+0TkKafq+AOsvokPfRbvgQJBALdiJ8hz4xNV4/rcc2A8Wyekq8i0D20MyPB2IwxP3JVdL6eNdJVIQMuJ7SNTSytmqdmDXEZPKkB1laEzatHWBdw=\",\"private_key1\":\"MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAIVHhfcl2WcG86Vw+mDt5f9Jkgg97VOon14ZyvWWjCsQJjHknj7bI9T/IeJiGU95W6X4pYOGjmCEc1jFTfj3W22A8S5cc+aa47+dkoIgu1ZtZ6YbkuzPu/KvtAnQuWNOk62TQjYVOfxanjpxwE7WAm+f9zNVSuAamYx9VlSlxAy5AgMBAAECgYAkM3Yu2EgB1QCO+m33sAad3dTdijyRUabf/2+CX375H2zQdoGJHyrPavFANVccoCEFptEGNaEslC1keksgicd6RPxnCfituGiQHPLFmFfWvMaOMQVh8SA8rjJPr7uN/F6zkJ6q+Tohd1EyBvKFi9bukn/wwQLhd54OhQydCWA9lQJBAM0IZJ2hnieMM4WEHut1dG6Nd98EW4IUVfZSTUPNdSA5hnVt8nuwp8WWaJKD0It1uSClvrRbR4CzgVoSUXUFjM8CQQCmaPta7v4KeFfh/7X8FkeiEyjSKAtgztUiqrGxKKbk+9PNMLoLgY34nGbNRCpxi21Ry1UteXKR8DHWCWEHKf/3AkEAk+5rUgRK7PPONJYoDPDYye8OPv2Q3KC5iRjGoJX73P1EUzO50Z6a3gfweU3byNNud+y+VLjLNUPOn2M6HHmdpwJAGZhMENBxgmrAGaKa+wryOZt4y9oc5ebqIUrfyb/W66FQEl9MPjjO/U4RAcFaRdyME+iSUUw8svWetKz8n312QQJAAR9o3BwPNMn1GbMyhGDTAnV6I3n28B/o7+EKv4zVaIMU3qqFU3fRMryJE5oWzruNEcRbw8/7vpoicYeRti0qyg==\",\"symmetric\":\"A44CF566F829446BBFCA06EB04124B1C\",\"uid\":\"B9D95BB98BEB4A378DA70FF5435E20A6\",\"public_key_2\":\"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCppCS3Vgdt9ToFqUMIXvEzPkSFdVUVjOkAwYgy9GV0F2yzGXIiFOYEiuAxtXbCkcJRa9spNRUlNFmCsN9uHYG2ejCLMXg0Z8bHYo5nJ5arnvB3wt1TiaYnTERwA1OMGDPYlf6rrHpzPl5IVLYZT9kWbBT7ga9K1smkrTlYHX8NnQIDAQAB\",\"public_key1\":\"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCFR4X3JdlnBvOlcPpg7eX/SZIIPe1TqJ9eGcr1lowrECYx5J4+2yPU/yHiYhlPeVul+KWDho5ghHNYxU3491ttgPEuXHPmmuO/nZKCILtWbWemG5Lsz7vyr7QJ0LljTpOtk0I2FTn8Wp46ccBO1gJvn/czVUrgGpmMfVZUpcQMuQIDAQAB\",\"name\":\"1232\",\"id\":20,\"key\":\"D0BD6710BFE3439EA081F39ABF047302\",\"callbackType\":1}},{\"menuList\":[{\"menuList\":[],\"name\":\"订单查询\",\"id\":125,\"parentid\":124,\"url\":\"../payorderList.do\",\"customer\":null},{\"menuList\":[],\"name\":\"订单上分\",\"id\":126,\"parentid\":124,\"url\":\"../upperScore.do\",\"customer\":null},{\"menuList\":[],\"name\":\"回调游戏\",\"id\":127,\"parentid\":124,\"url\":\"../manualCallBackGame.do\",\"customer\":null},{\"menuList\":[],\"name\":\"查看API\",\"id\":128,\"parentid\":124,\"url\":\"../showApiError.do.do\",\"customer\":null}],\"name\":\"\",\"id\":124,\"parentid\":1,\"url\":\"\",\"customer\":{\"flag\":3,\"addTime\":{\"date\":21,\"hours\":14,\"seconds\":13,\"month\":5,\"nanos\":0,\"timezoneOffset\":-480,\"year\":119,\"minutes\":40,\"time\":1561099213000,\"day\":5},\"ip\":\"sss\",\"private_key_2\":\"MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJUBXpxYTB0HGmhgZgEyPc3XIQsRtdqRkhG18T3EiebTps9QG+vg4cLkCy5PJ5DVDmHZfMDr494OWRH/HPT6aNhs1TEFCvu6UMt0jbBmOLN6iJoCLCT5aSLvKLyeCveaMOZKwISMqw7V0Phm7C5/8nk+4SDDo84JwcvyR6kAfg9/AgMBAAECgYAIkk2Y/NNUECaKvpDfnL5FawyxkFE/w4P9lNPN09KC/sXnwxn4FbWm+mtSPKdwA3GSW2p7xpYTHgwtptlJlmYVhpFCdt6kWCJsCdvgGU+e7ywWBcuVi62RK7to5Cnnx72axTXsMA9bG54gvcfRejOD2J5JV+6taYZ4UkjXbciawQJBANQRWZDtWT/39aCY5D4DLBZwIijBB/Bpdo++ad7OJgvbJGuR2ONoJesWu7vhVk+P6W8eXclUEqnlC3JGYQKfdI8CQQCz35zGegnGnqEdb0zSzePStezsuuDJOo6K1bSxvQaubX07nwaEwn2yjfBZhNn0BLbqXs8Mx7IgLQaGt2uqwI4RAkEAuaGCTFlnEZaknPKYgCvYsL9xN0lZALngfY0JMW40YZZu9/ZP6yekYXeh16E1IynvBUSIhg4g1DTZYyt2CYy4wwJAe4NPGhLu545Bv/6PWCm9CRGXcS8Z79Pf0YHRpELSdbAFUI1wYnVS7ur8YdwR9bfPCryznGj77ZA9bQBCVGwIoQJAad+wvss9+RkPYfeXDdYbwPnxUQaaocG0gdPPRY0mA2vKCE9GU4E9DSNQKliHw7GLCPdGuI1ZZa7mbyeLJWIM0A==\",\"private_key1\":\"MIICdwIBADANBgkqhkiG9w0BAQEFAASCAmEwggJdAgEAAoGBANCUgwdlBH6l7TPoaa+OoYB5st5IfO+6yejWe8kNgbggMreYWfLJ5KeuYMyOdcKbA6hacQ20Ch6Ddwt2quJbAo3ngzNpuaQRXEONeVKtqYzblEbS2nJwyy9b4uiMGV6w/K+44dMUJzF1KND72U8MrjhiPJT6ybDBmHzsrwsQV5TnAgMBAAECgYB9QkKx5SNe30xk2NTnHfO1EOCvBr8oxHbOwkeSRO864PM0OGUEHeSYImt1TLRBixAWQUIVZaKSEociNkCHMPqFofYai6rI6spg1pUFBQy5oG9T+Voxv7BrtiW/2aqiIvUPOFVKCYSJxYH0zQSaN51U62M15IxQYpaScLSAqbVRiQJBAO2FdnoP3Zc3fqlMbqWaRV65xLTEXuquMyOFKB1wTi0MYX6SE/JvIAK0HGwAz7OLhSIPed2kamT0fd9fG/mBitsCQQDgzqXxrW1UEGLf1MuqOf8ulZ9P4/vmayyISOXoqc6sIQyywni9mNnTiB6SyiWYysf03z6XXxglybWlb02UX83lAkEA2XCA0aWMmk53ac1Kzde5AcrWxRWwPu9SaYYQ/0I8jwjyh8h68knA6DiyfD0R57AmJNQ+ICXQMLOSN9b96SAqWQJBAJ3ESK9AH67URR+CbmALjat6s7BUdk7xvfHy/u52ZSVlmEzHsAaXA5+xMouftBzzirquBXYj9YVndsQgRZiwV4UCQB16fBs2wgxkdBSnXdEe90xy0e0QLPyFj2TrPwKe22SThIm425fNggC0i7g6zZaPED7yW/0bkG+ctsqZ9rJqt50=\",\"symmetric\":\"2EFA541BCB3E4457A83AF1E6E130174E\",\"uid\":\"A3C9F20F3D4345218549F979E256FE97\",\"public_key_2\":\"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCVAV6cWEwdBxpoYGYBMj3N1yELEbXakZIRtfE9xInm06bPUBvr4OHC5AsuTyeQ1Q5h2XzA6+PeDlkR/xz0+mjYbNUxBQr7ulDLdI2wZjizeoiaAiwk+Wki7yi8ngr3mjDmSsCEjKsO1dD4Zuwuf/J5PuEgw6POCcHL8kepAH4PfwIDAQAB\",\"public_key1\":\"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDQlIMHZQR+pe0z6GmvjqGAebLeSHzvusno1nvJDYG4IDK3mFnyyeSnrmDMjnXCmwOoWnENtAoeg3cLdqriWwKN54MzabmkEVxDjXlSramM25RG0tpycMsvW+LojBlesPyvuOHTFCcxdSjQ+9lPDK44YjyU+smwwZh87K8LEFeU5wIDAQAB\",\"name\":\"测试\",\"id\":21,\"key\":\"F572C177C5A64F73AF2BF01C90087FFE\",\"callbackType\":1}}],\"name\":\"订单查询\",\"id\":1,\"parentid\":0,\"url\":\"../payorder.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"编辑商户\",\"id\":134,\"parentid\":133,\"url\":\"../saveOrUpdateBusiness.action\",\"customer\":null}],\"name\":\"编辑页面\",\"id\":133,\"parentid\":129,\"url\":\"../businessDetail.action\",\"customer\":null},{\"menuList\":[],\"name\":\"一键开启\",\"id\":135,\"parentid\":129,\"url\":\"../onekey.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"新增微信买单\",\"id\":178,\"parentid\":177,\"url\":\"../wechat/addWechatOrUpdate.do\",\"customer\":null}],\"name\":\"新增页面\",\"id\":177,\"parentid\":175,\"url\":\"../wechat/wechatDetail.do\",\"customer\":null},{\"menuList\":[],\"name\":\"编辑微信买单\",\"id\":180,\"parentid\":179,\"url\":\"../wechat/addWechatOrUpdate.action\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"新增角色\",\"id\":189,\"parentid\":188,\"url\":\"../system/addGroupsOrUpdate.do\",\"customer\":null}],\"name\":\"新增页面\",\"id\":188,\"parentid\":185,\"url\":\"../system/groupsDetail.do\",\"customer\":null},{\"menuList\":[],\"name\":\"一键关闭\",\"id\":136,\"parentid\":129,\"url\":\"../onekey.do\",\"customer\":null},{\"menuList\":[],\"name\":\"订单查询\",\"id\":109,\"parentid\":4,\"url\":\"../payorderList.do\",\"customer\":null},{\"menuList\":[],\"name\":\"编辑银行\",\"id\":166,\"parentid\":165,\"url\":\"../addBankOrUpdate.action\",\"customer\":null},{\"menuList\":[],\"name\":\"查询接入\",\"id\":145,\"parentid\":144,\"url\":\"../customerList.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"订单查询\",\"id\":125,\"parentid\":124,\"url\":\"../payorderList.do\",\"customer\":null},{\"menuList\":[],\"name\":\"订单上分\",\"id\":126,\"parentid\":124,\"url\":\"../upperScore.do\",\"customer\":null},{\"menuList\":[],\"name\":\"回调游戏\",\"id\":127,\"parentid\":124,\"url\":\"../manualCallBackGame.do\",\"customer\":null},{\"menuList\":[],\"name\":\"查看API\",\"id\":128,\"parentid\":124,\"url\":\"../showApiError.do.do\",\"customer\":null}],\"name\":\"\",\"id\":124,\"parentid\":1,\"url\":\"\",\"customer\":{\"flag\":3,\"addTime\":{\"date\":21,\"hours\":14,\"seconds\":13,\"month\":5,\"nanos\":0,\"timezoneOffset\":-480,\"year\":119,\"minutes\":40,\"time\":1561099213000,\"day\":5},\"ip\":\"sss\",\"private_key_2\":\"MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJUBXpxYTB0HGmhgZgEyPc3XIQsRtdqRkhG18T3EiebTps9QG+vg4cLkCy5PJ5DVDmHZfMDr494OWRH/HPT6aNhs1TEFCvu6UMt0jbBmOLN6iJoCLCT5aSLvKLyeCveaMOZKwISMqw7V0Phm7C5/8nk+4SDDo84JwcvyR6kAfg9/AgMBAAECgYAIkk2Y/NNUECaKvpDfnL5FawyxkFE/w4P9lNPN09KC/sXnwxn4FbWm+mtSPKdwA3GSW2p7xpYTHgwtptlJlmYVhpFCdt6kWCJsCdvgGU+e7ywWBcuVi62RK7to5Cnnx72axTXsMA9bG54gvcfRejOD2J5JV+6taYZ4UkjXbciawQJBANQRWZDtWT/39aCY5D4DLBZwIijBB/Bpdo++ad7OJgvbJGuR2ONoJesWu7vhVk+P6W8eXclUEqnlC3JGYQKfdI8CQQCz35zGegnGnqEdb0zSzePStezsuuDJOo6K1bSxvQaubX07nwaEwn2yjfBZhNn0BLbqXs8Mx7IgLQaGt2uqwI4RAkEAuaGCTFlnEZaknPKYgCvYsL9xN0lZALngfY0JMW40YZZu9/ZP6yekYXeh16E1IynvBUSIhg4g1DTZYyt2CYy4wwJAe4NPGhLu545Bv/6PWCm9CRGXcS8Z79Pf0YHRpELSdbAFUI1wYnVS7ur8YdwR9bfPCryznGj77ZA9bQBCVGwIoQJAad+wvss9+RkPYfeXDdYbwPnxUQaaocG0gdPPRY0mA2vKCE9GU4E9DSNQKliHw7GLCPdGuI1ZZa7mbyeLJWIM0A==\",\"private_key1\":\"MIICdwIBADANBgkqhkiG9w0BAQEFAASCAmEwggJdAgEAAoGBANCUgwdlBH6l7TPoaa+OoYB5st5IfO+6yejWe8kNgbggMreYWfLJ5KeuYMyOdcKbA6hacQ20Ch6Ddwt2quJbAo3ngzNpuaQRXEONeVKtqYzblEbS2nJwyy9b4uiMGV6w/K+44dMUJzF1KND72U8MrjhiPJT6ybDBmHzsrwsQV5TnAgMBAAECgYB9QkKx5SNe30xk2NTnHfO1EOCvBr8oxHbOwkeSRO864PM0OGUEHeSYImt1TLRBixAWQUIVZaKSEociNkCHMPqFofYai6rI6spg1pUFBQy5oG9T+Voxv7BrtiW/2aqiIvUPOFVKCYSJxYH0zQSaN51U62M15IxQYpaScLSAqbVRiQJBAO2FdnoP3Zc3fqlMbqWaRV65xLTEXuquMyOFKB1wTi0MYX6SE/JvIAK0HGwAz7OLhSIPed2kamT0fd9fG/mBitsCQQDgzqXxrW1UEGLf1MuqOf8ulZ9P4/vmayyISOXoqc6sIQyywni9mNnTiB6SyiWYysf03z6XXxglybWlb02UX83lAkEA2XCA0aWMmk53ac1Kzde5AcrWxRWwPu9SaYYQ/0I8jwjyh8h68knA6DiyfD0R57AmJNQ+ICXQMLOSN9b96SAqWQJBAJ3ESK9AH67URR+CbmALjat6s7BUdk7xvfHy/u52ZSVlmEzHsAaXA5+xMouftBzzirquBXYj9YVndsQgRZiwV4UCQB16fBs2wgxkdBSnXdEe90xy0e0QLPyFj2TrPwKe22SThIm425fNggC0i7g6zZaPED7yW/0bkG+ctsqZ9rJqt50=\",\"symmetric\":\"2EFA541BCB3E4457A83AF1E6E130174E\",\"uid\":\"A3C9F20F3D4345218549F979E256FE97\",\"public_key_2\":\"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCVAV6cWEwdBxpoYGYBMj3N1yELEbXakZIRtfE9xInm06bPUBvr4OHC5AsuTyeQ1Q5h2XzA6+PeDlkR/xz0+mjYbNUxBQr7ulDLdI2wZjizeoiaAiwk+Wki7yi8ngr3mjDmSsCEjKsO1dD4Zuwuf/J5PuEgw6POCcHL8kepAH4PfwIDAQAB\",\"public_key1\":\"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDQlIMHZQR+pe0z6GmvjqGAebLeSHzvusno1nvJDYG4IDK3mFnyyeSnrmDMjnXCmwOoWnENtAoeg3cLdqriWwKN54MzabmkEVxDjXlSramM25RG0tpycMsvW+LojBlesPyvuOHTFCcxdSjQ+9lPDK44YjyU+smwwZh87K8LEFeU5wIDAQAB\",\"name\":\"测试\",\"id\":21,\"key\":\"F572C177C5A64F73AF2BF01C90087FFE\",\"callbackType\":1}},{\"menuList\":[],\"name\":\"新增对接\",\"id\":147,\"parentid\":146,\"url\":\"../saveOrUpdateCustomer.do\",\"customer\":null},{\"menuList\":[],\"name\":\"查看API\",\"id\":116,\"parentid\":2,\"url\":\"../showApiError.do.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"权限查询\",\"id\":194,\"parentid\":193,\"url\":\"../system/menuList.do\",\"customer\":null},{\"menuList\":[],\"name\":\"权限修改\",\"id\":195,\"parentid\":193,\"url\":\"../system/addSystemPermiOrUpdate.do\",\"customer\":null}],\"name\":\"权限管理\",\"id\":193,\"parentid\":184,\"url\":\"../system/systemPermiDetail.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"订单查询\",\"id\":107,\"parentid\":2,\"url\":\"../payorderList.do\",\"customer\":null},{\"menuList\":[],\"name\":\"订单上分\",\"id\":110,\"parentid\":2,\"url\":\"../upperScore.do\",\"customer\":null},{\"menuList\":[],\"name\":\"回调游戏\",\"id\":113,\"parentid\":2,\"url\":\"../manualCallBackGame.do\",\"customer\":null},{\"menuList\":[],\"name\":\"查看API\",\"id\":116,\"parentid\":2,\"url\":\"../showApiError.do.do\",\"customer\":null}],\"name\":\"\",\"id\":2,\"parentid\":1,\"url\":\"\",\"customer\":{\"flag\":1,\"addTime\":{\"date\":30,\"hours\":11,\"seconds\":24,\"month\":2,\"nanos\":0,\"timezoneOffset\":-480,\"year\":119,\"minutes\":59,\"time\":1553918364000,\"day\":6},\"ip\":\"47.244.97.138\",\"private_key_2\":\"MIICdQIBADANBgkqhkiG9w0BAQEFAASCAl8wggJbAgEAAoGBAJu3MiGNkZIggZtKNU33jWrcAVd76fimGC2tIg4PYbYvoSaUbiyX0EbiHoJeqPVHIaxRDxtulB2yRq0qfs39YqP9+n3barbiqvkJvrUoBKi4WiaqWpwcjC8+FxH00Hgy8qner26h4Mwv4giuf9fP1mcj+rCQqmUvyQzQR6zTZXAjAgMBAAECgYB9gKCqBGUghoyPcbcWuQBE8T8vmJLSMmRoZBN/i4wwf6D97EIENPPMPbFjWBILZqJQNSDc9jnw2WA3b3m2YpQd2Erd6toY7tHACX1b3Kl/hEJTYmoMNmva8r20OHqGI80FVDirpW1fE3Qbp+whi5/+057njCEKV3ebZ+2pRcrWmQJBAPtdXG7ewj1DtoOkGL+OfbfSKOdGtoUbhWOScuqw9rQ02m3DZmEjQ0L8G2eis5AEaAo0z0cuybJqEfkNTl5ue9UCQQCelkvAF3IJYTKQHq9qiL+yFKyLb+kZI3OBmZZvnvPn+9EI0WVtb2ujc9ka9H6xLH560R+LtooLZRAZmK/VTxAXAkB4BuaiUmAx3OmEBpGCtsm1QvchKJTzDmctWrrg8kt7VVmP3CRA8hOmIrf7Tqerd08uwHTRqrfJJ/kZEY+AbAVZAkBsqVzEBQyNIr1LhMr6+zImKgZEEG0uXV0imwM5/jbvaFrFaPzPbD3bpGBJGOfKLEuJicrMp0mVHy1V7InmZaMHAkBKJszaEvctrBX9GHXyWMsCHXRPtB+5b5aXqChaW8QNrYfXSQ6yQQ0xbngLBee1iCf6/IKD0GT8xn5N/7ReKVC6\",\"private_key1\":\"MIICdQIBADANBgkqhkiG9w0BAQEFAASCAl8wggJbAgEAAoGBAK2y64pq6RZkYnyp/G1wN8tc74Mhz8LzF+qS5SqQRocwd9YBh/7Gaechv7S/SPfuOkvzOoslED59Y3nu+JMK/2+gCBU+cteMH1x6i0jVrMLsd8/HPoAmW3M1zuV4/h794Wzh8FzU5SqFRmfg5dldZCIuuM7X+u5lnt/6i/LhHHmrAgMBAAECgYBE0fT83KsJUjCrT/ZRrfqNOn8zJ3xXs1UwfY8KtCsdeRih0+18BkUDbJ22EWvpv5udZ/s0EjVDbQ6yyvn12I+nk6Y8rx7eozRVUkcHBuEt5HTKfUDtopZEn7lkD5lQ/LF2yHghdGHuTNZEz0h3sPlgdKESR7O7Q/RLaoEgl6vYQQJBAPMoZLQwACNUIc1F3Zy0aAftfBfux9H5co2ankBEd5ysuU5Be81uwh1vwuaVpIVjqbwvywIj8cgajfqztQ+qTDECQQC232kHZYIbr8G4VF88H3zj7B6LSs0tKhwLqYEftYbnZxsoHKaAM9Uz1hN7fmBoEkgUMFVw3QLPVED5jJydZ9ibAkAEctW80i/+dXiU19VhG4/XrUma6nxvY//rhUul41rI3AQb4WjRblhQz42iSFSVOCiPz9QH+v5eadX1IzqJydTRAkBX8bbTvMhGQk66M7Ec+9OW1K2XtSBY0QBtx1V2h1jaHeaccrLLwqGMbS4vXIZGZkxNkTT1swOv60fX+vwyYodzAkA2cWYYIwuf+GPq6rrscfrNkmxE4uNkhlREOt4IXy9zP5XR2ornowvFszpNrDzM85SC6Zl04izQLNi+anxt58Uf\",\"symmetric\":\"123456789\",\"uid\":\"194592037350313555\",\"public_key_2\":\"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCbtzIhjZGSIIGbSjVN941q3AFXe+n4phgtrSIOD2G2L6EmlG4sl9BG4h6CXqj1RyGsUQ8bbpQdskatKn7N/WKj/fp922q24qr5Cb61KASouFomqlqcHIwvPhcR9NB4MvKp3q9uoeDML+IIrn/Xz9ZnI/qwkKplL8kM0Ees02VwIwIDAQAB\",\"public_key1\":\"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCtsuuKaukWZGJ8qfxtcDfLXO+DIc/C8xfqkuUqkEaHMHfWAYf+xmnnIb+0v0j37jpL8zqLJRA+fWN57viTCv9voAgVPnLXjB9ceotI1azC7HfPxz6AJltzNc7leP4e/eFs4fBc1OUqhUZn4OXZXWQiLrjO1/ruZZ7f+ovy4Rx5qwIDAQAB\",\"name\":\"棋牌app1\",\"id\":1,\"key\":\"xhf0Bhv5smvv29fxvxpjV0Td4tQwwa0f\",\"callbackType\":2}},{\"menuList\":[],\"name\":\"查看API\",\"id\":123,\"parentid\":119,\"url\":\"../showApiError.do.do\",\"customer\":null},{\"menuList\":[],\"name\":\"测试通道\",\"id\":137,\"parentid\":129,\"url\":\"../test/testApi.do\",\"customer\":null},{\"menuList\":[],\"name\":\"编辑云闪付\",\"id\":173,\"parentid\":172,\"url\":\"../cloudFlasHover/saveOrUpdateCustomer.action\",\"customer\":null},{\"menuList\":[],\"name\":\"删除角色\",\"id\":192,\"parentid\":185,\"url\":\"../system/deleteGroups.do\",\"customer\":null},{\"menuList\":[],\"name\":\"查看API\",\"id\":128,\"parentid\":124,\"url\":\"../showApiError.do.do\",\"customer\":null},{\"menuList\":[],\"name\":\"回调游戏\",\"id\":127,\"parentid\":124,\"url\":\"../manualCallBackGame.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"新增银行\",\"id\":164,\"parentid\":163,\"url\":\"../addBankOrUpdate.do\",\"customer\":null}],\"name\":\"新增页面\",\"id\":163,\"parentid\":161,\"url\":\"../bankDetail.do\",\"customer\":null},{\"menuList\":[],\"name\":\"查看API\",\"id\":117,\"parentid\":3,\"url\":\"../showApiError.do.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"编辑账户\",\"id\":155,\"parentid\":154,\"url\":\"../user/saveOrUpdateUser.action\",\"customer\":null}],\"name\":\"编辑页面\",\"id\":154,\"parentid\":150,\"url\":\"../user/userDetail.action\",\"customer\":null},{\"menuList\":[],\"name\":\"删除ip\",\"id\":160,\"parentid\":156,\"url\":\"../deleteIp.do\",\"customer\":null},{\"menuList\":[],\"name\":\"查询角色\",\"id\":187,\"parentid\":185,\"url\":\"../system/groupsList.do\",\"customer\":null},{\"menuList\":[],\"name\":\"订单上分\",\"id\":111,\"parentid\":3,\"url\":\"../upperScore.do\",\"customer\":null},{\"menuList\":[],\"name\":\"权限查询\",\"id\":194,\"parentid\":193,\"url\":\"../system/menuList.do\",\"customer\":null},{\"menuList\":[],\"name\":\"新增商户\",\"id\":132,\"parentid\":131,\"url\":\"../saveOrUpdateBusiness.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"查询云闪付\",\"id\":169,\"parentid\":168,\"url\":\"../cloudFlasHover/customerList.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"新增云闪付\",\"id\":171,\"parentid\":170,\"url\":\"../cloudFlasHover/saveOrUpdateCustomer.do\",\"customer\":null}],\"name\":\"新增页面\",\"id\":170,\"parentid\":168,\"url\":\"../cloudFlasHover/customerDetail.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"编辑云闪付\",\"id\":173,\"parentid\":172,\"url\":\"../cloudFlasHover/saveOrUpdateCustomer.action\",\"customer\":null}],\"name\":\"编辑页面\",\"id\":172,\"parentid\":168,\"url\":\"../cloudFlasHover/customerDetail.action\",\"customer\":null},{\"menuList\":[],\"name\":\"删除云闪付\",\"id\":174,\"parentid\":168,\"url\":\"../cloudFlasHover/deleteBank.do\",\"customer\":null}],\"name\":\"云闪付码\",\"id\":168,\"parentid\":0,\"url\":\"../cloudFlasHover/cloud.do\",\"customer\":null},{\"menuList\":[],\"name\":\"修改用户密码\",\"id\":183,\"parentid\":182,\"url\":\"../user/updatepassword.do\",\"customer\":null},{\"menuList\":[],\"name\":\"删除银行\",\"id\":167,\"parentid\":161,\"url\":\"../deleteBank.do\",\"customer\":null},{\"menuList\":[],\"name\":\"查询微信买单\",\"id\":176,\"parentid\":175,\"url\":\"../wechat/wechatList.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"订单查询\",\"id\":108,\"parentid\":3,\"url\":\"../payorderList.do\",\"customer\":null},{\"menuList\":[],\"name\":\"订单上分\",\"id\":111,\"parentid\":3,\"url\":\"../upperScore.do\",\"customer\":null},{\"menuList\":[],\"name\":\"回调游戏\",\"id\":114,\"parentid\":3,\"url\":\"../manualCallBackGame.do\",\"customer\":null},{\"menuList\":[],\"name\":\"查看API\",\"id\":117,\"parentid\":3,\"url\":\"../showApiError.do.do\",\"customer\":null}],\"name\":\"\",\"id\":3,\"parentid\":1,\"url\":\"\",\"customer\":{\"flag\":1,\"addTime\":{\"date\":10,\"hours\":18,\"seconds\":10,\"month\":4,\"nanos\":0,\"timezoneOffset\":-480,\"year\":119,\"minutes\":54,\"time\":1557485650000,\"day\":5},\"ip\":\"123123\",\"private_key_2\":\"MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAJ6nCeQOKC/1Rg3BFS755TPESOi0WvwzZYxE6o6sv+qg9OU9fi15GlNy3CU3+LX7BqTEKwYl/SkyGOgVZAJBFcRE1Vln7T9tVz08gPIDhwGZCpxJ9ocsx5rphJe42/p9XJ9Ivqva9VJgTdf0FEhhKwHc75b2OfCqSvb6G+cjt1sDAgMBAAECgYAu9Nd7lSkV0K10QrKHXdUVtkGyBjdrr7adhoQ5yC1hP1RcSRAAW3iMPFGl/mPxUKPNvnXRcwrz120Bu9sGw8ayAjTB90Yf7/w1d8zQKuumMWi9hcjdV/qdVDnrTveNzWHtVsjB8wNKWFoBjIHq6t9oV5zpZxCvbHAZiHmdXZTQeQJBAMr5wHTei8YJvzGIFUzpiOqsMOHBxj4ANCbY++VH9IU6agQfvIAlO2aC2IlTAtSiZW5sEITk7UG/gnyL9W3hIUUCQQDIGR+2hHNnlMty0qQ0EFF0xiSUgaE7v+1k/P5CD07gGpH1+SIQbR0k1wW4BcomtRkw+1KMfgNGV4+rrIGvDPunAkBapwzzpWlbu4Kuxo5s2WiTFvCGA5tcmY6xQvvNvUNSNXKgAOSZfwd2kz3Op0p+WUFf/deq4uusD7Jhmci1mHTZAkBwHrPIX3sSxSsikaj0i1g5KHWCyQgBJM/uUFxfw5gctoam3wwZTCqSY/GOZaAaBEuzSH++vTU0iwez2BtqbMntAkEAvu5lX0blSIi/D6YZ20VaPHJ5zGEUNkog3/1arhWgVMV/hMH6fUxDmxOxqJ/3dbQGGvuv3xU4RJigLY7Ka3TQ+g==\",\"private_key1\":\"MIICdwIBADANBgkqhkiG9w0BAQEFAASCAmEwggJdAgEAAoGBAJwD4yV5Km76uOrBustTX//anxLJEQr+bM0QnLYpN5+8EBb4nymHi5EBgsyJuNBUvDzVT+C3itl0JGULED1D9nlUP7W/Hcw6xn3vzSRpPkdLNhUDhZtF3yR/jRDjJ9EcWlnKGtBJXIC87eOMsg2yf5xIegVIN6gQObjCD2lX8xetAgMBAAECgYAL4j/rGs+gpHhxaVBRLIijdIOpaqdhrv+anylQttMF181h8o4tG6YF5ZeQ/OyW8d1kxNrQwypQZghfqfgSspqThGU+5Lc3TxUlIsAcsLYoIrqePFGruCGFcbpKF+Kq/rTyVCz/OS4WpQyKx/0o5U38K1blao/zGTPkon/O/o3AAQJBAO990H6oI9Fu4iHZ1AEVFlu3lJch85G4pnoVywAhe1ifWz/M+SxaZ1tjtwa41DDYHpKAvR28ILR6W7cL6uNHJU0CQQCmxQJHh+m6wT0KZjbtwixglW0yIz4s6EH1Eb5kAue+z3Q57ap9JWPjBHBkvuxAexuXdSP9FEObY5Owh4UalQvhAkEAl8FptFhnGfbhZAHbzTPHjyatCXeCF/yhwQq+L78HogiYkb0Yx3ohtE9jUucbzjekZ8EcFRN4xeQi6cKrfIlAoQJBAIQi/x5cMzZ1G/9cY9NZEb5pRz79q6r7UB90sq0dnC+UwluP05EbChz7DG7W0+x3XrJP73b8EmFRsdiiWDVquSECQBLkkYsc0ZwIK6wsLTkk5to3bFDxI5bL7BXEyNf+YyoKcj+rJB/zOAsRlxEnt9YSgT9jSBO7EpxYqMc/tzr7zKU=\",\"symmetric\":\"1E0E4EDC808443FD8965CDE627AAC7C9\",\"uid\":\"106962D5BE1B4AA48C32A99B57D3722B\",\"public_key_2\":\"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCepwnkDigv9UYNwRUu+eUzxEjotFr8M2WMROqOrL/qoPTlPX4teRpTctwlN/i1+wakxCsGJf0pMhjoFWQCQRXERNVZZ+0/bVc9PIDyA4cBmQqcSfaHLMea6YSXuNv6fVyfSL6r2vVSYE3X9BRIYSsB3O+W9jnwqkr2+hvnI7dbAwIDAQAB\",\"public_key1\":\"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCcA+MleSpu+rjqwbrLU1//2p8SyREK/mzNEJy2KTefvBAW+J8ph4uRAYLMibjQVLw81U/gt4rZdCRlCxA9Q/Z5VD+1vx3MOsZ9780kaT5HSzYVA4WbRd8kf40Q4yfRHFpZyhrQSVyAvO3jjLINsn+cSHoFSDeoEDm4wg9pV/MXrQIDAQAB\",\"name\":\"12123\",\"id\":13,\"key\":\"96FA25D845A9419B87B609FA7304A3BB\",\"callbackType\":1}},{\"menuList\":[],\"name\":\"新增银行\",\"id\":164,\"parentid\":163,\"url\":\"../addBankOrUpdate.do\",\"customer\":null},{\"menuList\":[],\"name\":\"新增微信买单\",\"id\":178,\"parentid\":177,\"url\":\"../wechat/addWechatOrUpdate.do\",\"customer\":null},{\"menuList\":[],\"name\":\"回调游戏\",\"id\":113,\"parentid\":2,\"url\":\"../manualCallBackGame.do\",\"customer\":null},{\"menuList\":[],\"name\":\"新增ip\",\"id\":159,\"parentid\":158,\"url\":\"../addIp.do\",\"customer\":null},{\"menuList\":[],\"name\":\"订单查询\",\"id\":108,\"parentid\":3,\"url\":\"../payorderList.do\",\"customer\":null},{\"menuList\":[],\"name\":\"回调游戏\",\"id\":115,\"parentid\":4,\"url\":\"../manualCallBackGame.do\",\"customer\":null},{\"menuList\":[],\"name\":\"新增云闪付\",\"id\":171,\"parentid\":170,\"url\":\"../cloudFlasHover/saveOrUpdateCustomer.do\",\"customer\":null},{\"menuList\":[],\"name\":\"订单查询\",\"id\":107,\"parentid\":2,\"url\":\"../payorderList.do\",\"customer\":null},{\"menuList\":[],\"name\":\"编辑对接\",\"id\":149,\"parentid\":148,\"url\":\"../saveOrUpdateCustomer.action\",\"customer\":null},{\"menuList\":[],\"name\":\"编辑商户\",\"id\":134,\"parentid\":133,\"url\":\"../saveOrUpdateBusiness.action\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"查询账户\",\"id\":151,\"parentid\":150,\"url\":\"../user/userList.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"新增账户\",\"id\":153,\"parentid\":152,\"url\":\"../user/saveOrUpdateUser.do\",\"customer\":null}],\"name\":\"新增页面\",\"id\":152,\"parentid\":150,\"url\":\"../user/userDetail.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"编辑账户\",\"id\":155,\"parentid\":154,\"url\":\"../user/saveOrUpdateUser.action\",\"customer\":null}],\"name\":\"编辑页面\",\"id\":154,\"parentid\":150,\"url\":\"../user/userDetail.action\",\"customer\":null}],\"name\":\"账户管理\",\"id\":150,\"parentid\":0,\"url\":\"../user/user.do\",\"customer\":null},{\"menuList\":[],\"name\":\"权限修改\",\"id\":195,\"parentid\":193,\"url\":\"../system/addSystemPermiOrUpdate.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"新增对接\",\"id\":141,\"parentid\":140,\"url\":\"../saveOrUpdateAuao.do\",\"customer\":null}],\"name\":\"新增页面\",\"id\":140,\"parentid\":138,\"url\":\"../autoDetail.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"新增云闪付\",\"id\":171,\"parentid\":170,\"url\":\"../cloudFlasHover/saveOrUpdateCustomer.do\",\"customer\":null}],\"name\":\"新增页面\",\"id\":170,\"parentid\":168,\"url\":\"../cloudFlasHover/customerDetail.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"查询对接\",\"id\":139,\"parentid\":138,\"url\":\"../autoList.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"新增对接\",\"id\":141,\"parentid\":140,\"url\":\"../saveOrUpdateAuao.do\",\"customer\":null}],\"name\":\"新增页面\",\"id\":140,\"parentid\":138,\"url\":\"../autoDetail.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"编辑对接\",\"id\":143,\"parentid\":142,\"url\":\"../saveOrUpdateAuao.action\",\"customer\":null}],\"name\":\"编辑页面\",\"id\":142,\"parentid\":138,\"url\":\"../autoDetail.action\",\"customer\":null}],\"name\":\"自动对接\",\"id\":138,\"parentid\":0,\"url\":\"../auto.do\",\"customer\":null},{\"menuList\":[],\"name\":\"删除云闪付\",\"id\":174,\"parentid\":168,\"url\":\"../cloudFlasHover/deleteBank.do\",\"customer\":null},{\"menuList\":[],\"name\":\"订单查询\",\"id\":120,\"parentid\":119,\"url\":\"../payorderList.do\",\"customer\":null},{\"menuList\":[],\"name\":\"新增账户\",\"id\":153,\"parentid\":152,\"url\":\"../user/saveOrUpdateUser.do\",\"customer\":null},{\"menuList\":[],\"name\":\"查询ip\",\"id\":157,\"parentid\":156,\"url\":\"../ipList.do\",\"customer\":null},{\"menuList\":[],\"name\":\"回调游戏\",\"id\":122,\"parentid\":119,\"url\":\"../manualCallBackGame.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"编辑银行\",\"id\":166,\"parentid\":165,\"url\":\"../addBankOrUpdate.action\",\"customer\":null}],\"name\":\"编辑页面\",\"id\":165,\"parentid\":161,\"url\":\"../bankDetail.action\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"订单查询\",\"id\":109,\"parentid\":4,\"url\":\"../payorderList.do\",\"customer\":null},{\"menuList\":[],\"name\":\"订单上分\",\"id\":112,\"parentid\":4,\"url\":\"../upperScore.do\",\"customer\":null},{\"menuList\":[],\"name\":\"回调游戏\",\"id\":115,\"parentid\":4,\"url\":\"../manualCallBackGame.do\",\"customer\":null},{\"menuList\":[],\"name\":\"查看API\",\"id\":118,\"parentid\":4,\"url\":\"../showApiError.do.do\",\"customer\":null}],\"name\":\"\",\"id\":4,\"parentid\":1,\"url\":\"\",\"customer\":{\"flag\":3,\"addTime\":{\"date\":20,\"hours\":10,\"seconds\":21,\"month\":4,\"nanos\":0,\"timezoneOffset\":-480,\"year\":119,\"minutes\":22,\"time\":1558318941000,\"day\":1},\"ip\":\"123\",\"private_key_2\":\"MIICdQIBADANBgkqhkiG9w0BAQEFAASCAl8wggJbAgEAAoGBAIQOTKgjKKcfVcpt1mrNUTnD35c9bnENbm9F1ZYHmB2QnbCIrvWKqy0Xf+NYymD8tDT0jsIeOpStSUnszPddMfLwYPc8Fz7+02yNoc4oLTIc189RToYZiR2DK5TTfxcSAc6Na1uM/AnlBylK/tzqKkH80Xl+sqPaSo2qcIsmVq2VAgMBAAECgYABiZUU5AvmHjRGfg7gAXHvpTsmLJ3rjQd7HioFbCM2POfJFV5MF4g0pzBi+jao+Gg0saAz3Fw8POQ8ixg7zQb209MMPlxlEfLQNOuxWBNcZ5oPHsHKaI9OOceHdmIz/0/7JCyBM2fYngse/B4wSAsKYY/j/PGlbCyyfS6owxSiBQJBAL3U8yigboP9q2TpM+KJIIEVZAe8tzHZGUgwMLV/udtuymys96fHlk11N7OH7THoWfonzVQ5zrcJmttAdu4ej5MCQQCyFeQQkNcTMvnzaFM4UbSuunXACYhUJ95J07gGn50fxC9bk/1BysF4HoQh+aeBdcTqFC684WQg3WmffpvbJfc3AkAlVuzZce0rI0uCVuiwx55QJb/+UZ2LPZPegjQij1QkmH9SrxcrtnOXGtZxBuyeI4EHVqrpxVEm6cm/FMgQAIznAkBwbItuvdFZKHxM4pZu3n3fNI0zb5El94lIOCVb4RXTQQnYmWNvTm22xCUMQcwyWUO3togO64dHjB+q9cW0opIfAkAKolMUXUikiyCxx3JdzKOlu/bMKPGAMjBCoAFA+TI9q+3UfmMCJMSdpLX7d5/aC0bS88P9spLdHG9mH64qJOlV\",\"private_key1\":\"MIICdwIBADANBgkqhkiG9w0BAQEFAASCAmEwggJdAgEAAoGBAIM5E6aKzLdc19+newyQS4pIqxUNzLc9ImNLr+9sVCtRR0D/DqQ+ovTSwxSiR4/hRJX/3H2g/0hdOQYnrBoXQ1XWYFPP+npgNKNZDOjYnyVPmvYNvymn56phgynZc94cSewNgwr3vv2zCE6h3YGyKfTBthSFSCiKRrEBx1t+PYGPAgMBAAECgYBIQQdW7ppmZJLhLaENe+58SCMbxqtwQhNLRYOse6Ok7m4jlc2EFpE36U1NcUWiLdHMHkRUUHAAcoRRpUqYWzLRqGTKXYy8kAVgH7I0jfO/vPFUAb4tOdRmVHTHhOW7+lKkD1T+5S1ViLq/mzsyHKIq1E1P+inYBZ6ppTxAf7IrcQJBAMbJdFtMDYKXkjzhAuUVqEhKJq/EUaZCfXEJSXg+F8ZU+lVhoguO6QWiK0zxg/YBzJ731Ze5/JR+PvtD060rVXMCQQCo/YjDP50WIEeLBcW+IUqgcVZOAKPSW7FshEp32II3moTwAsaQeQvaDDIhWxOD6Y/K1M2jS3/cBrzFMQNa1bx1AkEAv+Lq/M4XJH5nXXjesIANZ2qcmYJqRpFcQWbzkqxtirewxgZuw7V53kRChA2Gkkv+V11owwN3e2e6KBW7GSgBXQJABWOgeumKbuw0m+BhQAD7ykYTBIXMs6as79MANPY4oOFSn/zWrEDP+fItnxaydqB6L3O94xlDSJcGaht4CeuLCQJBAK0ULLFkyJDzXaoIv8AqYPig6wZhUZyLDT4ujZMXKxjzxvLrETpQ4TjpSfouwmfUZhlX+QF8VQbDOw1hoWNa+bw=\",\"symmetric\":\"FDAD5C670E6A44D0947A894C443D7B45\",\"uid\":\"C74BF33A809B432697840D18313B7813\",\"public_key_2\":\"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCEDkyoIyinH1XKbdZqzVE5w9+XPW5xDW5vRdWWB5gdkJ2wiK71iqstF3/jWMpg/LQ09I7CHjqUrUlJ7Mz3XTHy8GD3PBc+/tNsjaHOKC0yHNfPUU6GGYkdgyuU038XEgHOjWtbjPwJ5QcpSv7c6ipB/NF5frKj2kqNqnCLJlatlQIDAQAB\",\"public_key1\":\"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCDOROmisy3XNffp3sMkEuKSKsVDcy3PSJjS6/vbFQrUUdA/w6kPqL00sMUokeP4USV/9x9oP9IXTkGJ6waF0NV1mBTz/p6YDSjWQzo2J8lT5r2Db8pp+eqYYMp2XPeHEnsDYMK9779swhOod2Bsin0wbYUhUgoikaxAcdbfj2BjwIDAQAB\",\"name\":\"123\",\"id\":15,\"key\":\"9169C65055FB4637B8E3E3A90EFD16C1\",\"callbackType\":1}},{\"menuList\":[{\"menuList\":[],\"name\":\"查询银行\",\"id\":162,\"parentid\":161,\"url\":\"../bankList.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"新增银行\",\"id\":164,\"parentid\":163,\"url\":\"../addBankOrUpdate.do\",\"customer\":null}],\"name\":\"新增页面\",\"id\":163,\"parentid\":161,\"url\":\"../bankDetail.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"编辑银行\",\"id\":166,\"parentid\":165,\"url\":\"../addBankOrUpdate.action\",\"customer\":null}],\"name\":\"编辑页面\",\"id\":165,\"parentid\":161,\"url\":\"../bankDetail.action\",\"customer\":null},{\"menuList\":[],\"name\":\"删除银行\",\"id\":167,\"parentid\":161,\"url\":\"../deleteBank.do\",\"customer\":null}],\"name\":\"银行管理\",\"id\":161,\"parentid\":0,\"url\":\"../bank.do\",\"customer\":null},{\"menuList\":[],\"name\":\"回调游戏\",\"id\":114,\"parentid\":3,\"url\":\"../manualCallBackGame.do\",\"customer\":null},{\"menuList\":[],\"name\":\"编辑对接\",\"id\":143,\"parentid\":142,\"url\":\"../saveOrUpdateAuao.action\",\"customer\":null},{\"menuList\":[],\"name\":\"退出系统\",\"id\":196,\"parentid\":0,\"url\":\"../user/out.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"新增ip\",\"id\":159,\"parentid\":158,\"url\":\"../addIp.do\",\"customer\":null}],\"name\":\"新增页面\",\"id\":158,\"parentid\":156,\"url\":\"../ipDetail.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"查询微信买单\",\"id\":176,\"parentid\":175,\"url\":\"../wechat/wechatList.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"新增微信买单\",\"id\":178,\"parentid\":177,\"url\":\"../wechat/addWechatOrUpdate.do\",\"customer\":null}],\"name\":\"新增页面\",\"id\":177,\"parentid\":175,\"url\":\"../wechat/wechatDetail.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"编辑微信买单\",\"id\":180,\"parentid\":179,\"url\":\"../wechat/addWechatOrUpdate.action\",\"customer\":null}],\"name\":\"编辑页面\",\"id\":179,\"parentid\":175,\"url\":\"../wechat/wechatDetail.action\",\"customer\":null},{\"menuList\":[],\"name\":\"删除微信买单\",\"id\":181,\"parentid\":175,\"url\":\"../wechat/deleteBank.do\",\"customer\":null}],\"name\":\"微信买单\",\"id\":175,\"parentid\":0,\"url\":\"../wechat/wechat.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"编辑角色\",\"id\":191,\"parentid\":190,\"url\":\"../system/addGroupsOrUpdate.action\",\"customer\":null}],\"name\":\"编辑页面\",\"id\":190,\"parentid\":185,\"url\":\"../system/groupsDetail.action\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"查询角色\",\"id\":187,\"parentid\":185,\"url\":\"../system/groupsList.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"新增角色\",\"id\":189,\"parentid\":188,\"url\":\"../system/addGroupsOrUpdate.do\",\"customer\":null}],\"name\":\"新增页面\",\"id\":188,\"parentid\":185,\"url\":\"../system/groupsDetail.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"编辑角色\",\"id\":191,\"parentid\":190,\"url\":\"../system/addGroupsOrUpdate.action\",\"customer\":null}],\"name\":\"编辑页面\",\"id\":190,\"parentid\":185,\"url\":\"../system/groupsDetail.action\",\"customer\":null},{\"menuList\":[],\"name\":\"删除角色\",\"id\":192,\"parentid\":185,\"url\":\"../system/deleteGroups.do\",\"customer\":null}],\"name\":\"角色管理\",\"id\":185,\"parentid\":184,\"url\":\"../system/groups.do\",\"customer\":null},{\"menuList\":[],\"name\":\"查看API\",\"id\":118,\"parentid\":4,\"url\":\"../showApiError.do.do\",\"customer\":null},{\"menuList\":[],\"name\":\"查询商户\",\"id\":130,\"parentid\":129,\"url\":\"../businessList.do\",\"customer\":null},{\"menuList\":[],\"name\":\"订单上分\",\"id\":112,\"parentid\":4,\"url\":\"../upperScore.do\",\"customer\":null},{\"menuList\":[],\"name\":\"查询银行\",\"id\":162,\"parentid\":161,\"url\":\"../bankList.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"查询商户\",\"id\":130,\"parentid\":129,\"url\":\"../businessList.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"新增商户\",\"id\":132,\"parentid\":131,\"url\":\"../saveOrUpdateBusiness.do\",\"customer\":null}],\"name\":\"新增页面\",\"id\":131,\"parentid\":129,\"url\":\"../businessDetail.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"编辑商户\",\"id\":134,\"parentid\":133,\"url\":\"../saveOrUpdateBusiness.action\",\"customer\":null}],\"name\":\"编辑页面\",\"id\":133,\"parentid\":129,\"url\":\"../businessDetail.action\",\"customer\":null},{\"menuList\":[],\"name\":\"一键开启\",\"id\":135,\"parentid\":129,\"url\":\"../onekey.do\",\"customer\":null},{\"menuList\":[],\"name\":\"一键关闭\",\"id\":136,\"parentid\":129,\"url\":\"../onekey.do\",\"customer\":null},{\"menuList\":[],\"name\":\"测试通道\",\"id\":137,\"parentid\":129,\"url\":\"../test/testApi.do\",\"customer\":null}],\"name\":\"商户管理\",\"id\":129,\"parentid\":0,\"url\":\"../business.do\",\"customer\":null},{\"menuList\":[],\"name\":\"查询账户\",\"id\":151,\"parentid\":150,\"url\":\"../user/userList.do\",\"customer\":null},{\"menuList\":[{\"menuList\":[],\"name\":\"编辑微信买单\",\"id\":180,\"parentid\":179,\"url\":\"../wechat/addWechatOrUpdate.action\",\"customer\":null}],\"name\":\"编辑页面\",\"id\":179,\"parentid\":175,\"url\":\"../wechat/wechatDetail.action\",\"customer\":null}],\"customerid\":0,\"name\":\"admin\",\"id\":14,\"userid\":0}],\"customer_name\":\"\",\"id\":11,\"customer_id\":0,\"type\":1,\"key\":\"Q72NHQIJ7FZY3OTV\",\"url\":\"https://www.google.com/chart?chs=200x200&chld=M%7C0&cht=qr&chl=otpauth://totp/admin@HeChengPay%3Fsecret%3DPZNDPXKA4UIZD3XT\"}\r\n"
				+ "";
		System.out.println(s);
		Map<String, Class<?>> classMap = new HashMap<String, Class<?>>();
		classMap.put("groupsList", Groups.class);
		classMap.put("menuList", Menu.class);
		JSONObject jsonobject = JSONObject.fromObject(s);
		Users users = (Users) JSONObject.toBean(jsonobject, Users.class, classMap);
		System.out.println(users.getGroupsList());
	}

	private boolean accessPrivileges(String url, Users users) throws Exception {
		// 后台AJAX请求 过滤调权限
		String[] allow = StringUtils.ALLOFILTER;
		for (String str : allow)
			if (url.contains(str))
				return true;
		for (Groups groups : users.getGroupsList()) {
			for (Menu menu : groups.getMenuList()) {
				if (menu.getUrl().contains(url))
					return true;
			}
		}
		return false;
	}

	private boolean flagIp(HttpServletRequest request) throws Exception {
		String ip = getClientIP(request);
		try {
			List<Ip> list = (List<Ip>) servletContext.getAttribute("ipList");
			boolean flag = true;
			for (Ip i : list) {
				if (i.getIp().equals(ip.replace(" ", "")) || ip.equals("0:0:0:0:0:0:0:1")) {
					flag = false;
					break;
				}
			}
			if (flag) {
				logger.info("ip不在白名单：" + ip);
				return false;
			}
		} catch (Exception e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		return true;
	}

	public static String getClientIP(HttpServletRequest request) {
		String ip = request.getHeader("X-Forwarded-For");
		if (StringUtils.isNotEmpty(ip) && !"unKnown".equalsIgnoreCase(ip)) {
			// 多次反向代理后会有多个ip值，第一个ip才是真实ip
			int index = ip.indexOf(",");
			if (index != -1) {
				return ip.substring(0, index);
			} else {
				return ip;
			}
		}
		ip = request.getHeader("X-Real-IP");
		if (StringUtils.isNotEmpty(ip) && !"unKnown".equalsIgnoreCase(ip)) {
			return ip;
		}
		return request.getRemoteAddr();
	}

}